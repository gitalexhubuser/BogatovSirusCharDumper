(window.webpackJsonp=window.webpackJsonp||[]).push([[39,37,46,61,64,68,73,75,76],{17:function(e,t,r){"use strict";r(13),r(28),r(32),r(63),r(67);t.a={beforeRouteLeave:function(e,t,r){document.querySelectorAll(".modal-backdrop").forEach((function(element){element.remove()})),r()},data:function(){return{status:"info",error:null,message:null,response:null}},computed:{pageDescription:function(){return this.$store.state.page.description},pageKeywords:function(){return this.$store.state.page.keywords},realms:function(){return this.$store.state.realm.realms},selectedRealm:{set:function(e){this.$store.commit("realm/setSelectedRealm",e)},get:function(){return this.$store.state.realm.selectedRealm}},csrfToken:function(){return this.$store.state.page.token}},methods:{getResponseMessage:function(e){var t=this.$t("errors.unknown");if(e.response&&(this.response=e.response),e.response&&!e.response.data.message||e.response&&!e.response.data||e.response&&[401,500,503,403].includes(e.response.status))switch(e.response.status){case 400:t=this.$t("errors.400");break;case 401:this.status="info",t=this.$t("errors.401");break;case 403:this.status="warning",t=this.$t("errors.403");break;case 404:this.status="default",t=this.$t("errors.404");break;case 500:t=this.$t("errors.500");break;case 503:this.status="info",t=this.$t("errors.503");break;default:t=this.$t("errors.default")}else e.response.data.message?t=e.response.data.message:t&&(t=e.message);return t},showError:function(e){this.status="danger",this.error=e,this.message=this.getResponseMessage(e)}}}},309:function(e,t,r){"use strict";r(40),r(32),r(24),r(56),r(28),r(57);var n=r(4),o=r(66),c=r(9);r(16),r(55),r(13),r(54),r(67),r(104),r(328),r(38),r(25);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function d(e,t){return t.map((function(t){for(var r=t.talents.reduce((function(t,r){if(t[r.row]||(t[r.row]=[]),!e.talents.length)return t[r.row][r.col]=l(l({},r),{},{type:"talent",userTalentRanks:[0]}),t;var n=e.talents.map((function(e){var t=e.find((function(e){return r.ranks.includes(e.spell)})),n=t&&t.spell;return r.ranks.findIndex((function(e){return e===n}))+1}));return t[r.row][r.col]=l(l({},r),{},{type:"talent",userTalentRanks:n}),t}),[]),n=function(e){for(var n=function(col){if(!r[e][col])return r[e][col]={type:"empty"},"continue";if("talent"!==r[e][col].type||"talent"===r[e][col].type&&0===r[e][col].dependsOn)return"continue";var n=t.talents.find((function(t){return t.id===r[e][col].dependsOn}));if(!n)return"continue";var o=e-n.row,c=col-n.col,f=void 0;c>0&&(f="right"),c<0&&(f="left"),o>0&&(f="top");var d=r[e][col],h=d.userTalentRanks.map((function(e){return e>=d.max_rank}));o>0&&c>0&&(r[e-o][col]={type:"arrow",arrowType:"right-down",maxRanks:h,arrowFrom:d}),o>0&&c<0&&(r[e-o][col]={type:"arrow",arrowType:"left-down",maxRanks:h,arrowFrom:d}),r[e][col]=l(l({},r[e][col]),{},{arrow:f});for(var m=o-1;m>0;m--)r[e-m][col]={type:"arrow",arrowType:"down",maxRanks:h,arrowFrom:d}},col=0;col<4;col++)n(col)},o=0;o<11;o++)n(o);return l(l({},t),{},{talentsTree:r})}))}function h(e,t,r){return t.talents.map((function(t,n){var c=r.map((function(e){return e.talentsTree.reduce((function(e,t){var r=t.reduce((function(e,slot){return"talent"===slot.type?e+slot.userTalentRanks[n]:e}),0);return e+r}),0)})),f=Math.max.apply(Math,Object(o.a)(c)),l=c.indexOf(f);return{icon:0!==f?r[l].icon:"https://cdn.scourge.tech/icons/ability_marksmanship.png",branchRanks:c,name:0!==f?r[l].name:e.t("character.spec")}}))}t.a={asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,f,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$axios,n=e.params,o=e.i18n,t.next=3,r.$get("/api/characters/".concat(n.world,"/").concat(n.guid),{cache:!0});case 3:return c=t.sent,t.next=6,r.$get("/api/base/talents/".concat(c.class),{cache:!0});case 6:return f=t.sent,l=d(c,f),c.specs=h(o,c,l),t.abrupt("return",{character:c,classTalents:f,talents:l});case 10:case"end":return t.stop()}}),t)})))()},computed:{id:function(){return this.$route.params.guid},world:function(){return parseInt(this.$route.params.world)},currentRealm:function(){var e=this;return this.realms.find((function(t){return t.id===e.world}))}}}},328:function(e,t,r){"use strict";var n=r(15),o=r(175).findIndex,c=r(251),f="findIndex",l=!0;f in[]&&Array(1).findIndex((function(){l=!1})),n({target:"Array",proto:!0,forced:l},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),c(f)}}]);